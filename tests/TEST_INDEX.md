# 测试文档索引

## 文档信息

| 项目     | 值           |
| -------- | ------------ |
| 文档版本 | v1.0.0       |
| 创建日期 | 2025-01-26   |
| 最后更新 | 2025-01-26   |
| 作者     | 项目开发团队 |
| 状态     | 已发布       |

---

## 1. 概述

### 1.1 文档目的

本文档提供项目测试相关文档的索引，便于快速定位和访问各类测试文档。

### 1.2 适用范围

适用于项目开发、测试和维护过程中对测试文档的管理和使用。

### 1.3 参考资料

- [测试管理规范](TEST_MANAGEMENT.md)
- [Mock规范](MOCK_SPECIFICATION.md)
- [测试用例编写指南](../docs/TEST_CASE_GUIDELINES.md)

---

## 2. 测试文档分类

### 2.1 规范文档

| 文档名称         | 路径                         | 版本   | 日期       | 状态   | 描述                       |
| ---------------- | ---------------------------- | ------ | ---------- | ------ | -------------------------- |
| 测试管理规范     | tests/TEST_MANAGEMENT.md     | v1.0.0 | 2025-01-26 | 已发布 | 测试流程、策略和管理规范   |
| Mock规范         | tests/MOCK_SPECIFICATION.md  | v1.0.0 | 2025-01-26 | 已发布 | Mock对象使用规范           |
| 测试用例编写指南 | docs/TEST_CASE_GUIDELINES.md | v1.0.0 | 2025-01-26 | 已发布 | 测试用例编写标准和最佳实践 |

### 2.2 用例文档

| 文档名称       | 路径                    | 版本   | 日期       | 状态   | 描述                     |
| -------------- | ----------------------- | ------ | ---------- | ------ | ------------------------ |
| 核心检查器测试 | tests/test_checker.py   | v1.0.0 | 2025-01-26 | 已发布 | GitHub状态检查器测试用例 |
| 颜色处理测试   | tests/test_colors.py    | v1.0.0 | 2025-01-26 | 已发布 | 颜色处理函数测试用例     |
| 主题测试       | tests/test_themes.py    | v1.0.0 | 2025-01-26 | 已发布 | UI主题相关测试用例       |
| 动画测试       | tests/test_animation.py | v1.0.0 | 2025-01-26 | 已发布 | 动画效果测试用例         |
| 主函数测试     | tests/test_main.py      | v1.0.0 | 2025-01-26 | 已发布 | 主程序入口测试用例       |

### 2.3 执行文档

| 文档名称     | 路径                     | 版本   | 日期       | 状态   | 描述               |
| ------------ | ------------------------ | ------ | ---------- | ------ | ------------------ |
| 测试执行指南 | tests/EXECUTION_GUIDE.md | v1.0.0 | 2025-01-26 | 已发布 | 如何执行测试的说明 |
| 测试报告模板 | tests/REPORT_TEMPLATE.md | v1.0.0 | 2025-01-26 | 已发布 | 测试报告格式模板   |
| 覆盖率报告   | tests/COVERAGE_REPORT.md | v1.0.0 | 2025-01-26 | 已发布 | 代码覆盖率分析报告 |

### 2.4 配置文档

| 文档名称 | 路径                 | 版本   | 日期       | 状态   | 描述           |
| -------- | -------------------- | ------ | ---------- | ------ | -------------- |
| 测试配置 | tests/conftest.py    | v1.0.0 | 2025-01-26 | 已发布 | pytest配置文件 |
| 测试数据 | tests/test_data.json | v1.0.0 | 2025-01-26 | 已发布 | 测试用数据文件 |

### 2.5 报告文档

| 文档名称     | 路径                        | 版本   | 日期       | 状态   | 描述                   |
| ------------ | --------------------------- | ------ | ---------- | ------ | ---------------------- |
| 测试执行报告 | tests/execution_report.md   | v1.0.0 | 2025-01-26 | 已发布 | 每次测试执行的详细报告 |
| 性能测试报告 | tests/performance_report.md | v1.0.0 | 2025-01-26 | 已发布 | 性能测试结果报告       |
| 集成测试报告 | tests/integration_report.md | v1.0.0 | 2025-01-26 | 已发布 | 集成测试结果报告       |

---

## 3. 测试用例分类

### 3.1 按测试层级分类

- **单元测试**：测试单个函数或类的方法
- **集成测试**：测试多个模块之间的交互
- **系统测试**：测试整个系统的功能
- **回归测试**：确保新代码没有破坏现有功能

### 3.2 按功能模块分类

- **核心检查模块**：GitHub状态检查功能
- **UI显示模块**：颜色、主题和动画显示
- **配置管理模块**：配置文件读取和处理
- **命令行接口模块**：CLI参数解析和处理

---

## 4. 测试执行命令

### 4.1 基础测试命令

```bash
# 运行所有测试
pytest

# 运行特定测试文件
pytest tests/test_checker.py

# 运行特定测试函数
pytest tests/test_checker.py::test_function_name

# 运行匹配模式的测试
pytest -k "checker"
```

### 4.2 覆盖率测试命令

```bash
# 运行测试并生成覆盖率报告
pytest --cov=core

# 生成详细覆盖率报告
pytest --cov=core --cov-report=html

# 检查覆盖率阈值
pytest --cov=core --cov-fail-under=80
```

### 4.3 特殊测试命令

```bash
# 运行测试并显示详细输出
pytest -v

# 运行测试并在失败时进入调试模式
pytest --pdb

# 重新运行失败的测试
pytest --lf

# 运行上次修改过的文件的测试
pytest --ff
```

---

## 5. 测试质量标准

### 5.1 覆盖率要求

- **最小覆盖率**：80%
- **目标覆盖率**：90%
- **理想覆盖率**：95%

### 5.2 测试检查清单

- [ ] 所有公共方法都有对应的测试用例
- [ ] 测试用例覆盖正常情况和异常情况
- [ ] Mock使用符合规范
- [ ] 测试数据独立且可重复
- [ ] 测试执行时间合理
- [ ] 测试代码可读性好

---

## 6. 测试维护指南

### 6.1 添加新测试

1. 确定测试类型（单元、集成、系统）
2. 选择合适的测试文件
3. 遵循测试命名规范
4. 编写清晰的测试用例
5. 更新测试文档索引

### 6.2 更新现有测试

1. 分析变更影响范围
2. 更新相关测试用例
3. 验证测试结果正确性
4. 更新测试文档

### 6.3 废弃测试处理

1. 标记测试为废弃状态
2. 添加废弃原因说明
3. 计划移除时间
4. 更新相关文档

---

## 7. 常见问题解决

### 7.1 测试失败

- 检查代码变更是否影响测试
- 验证Mock配置是否正确
- 确认测试环境设置

### 7.2 测试性能问题

- 检查是否有外部依赖
- 验证Mock使用是否恰当
- 优化测试数据生成

### 7.3 测试环境问题

- 确认依赖包已安装
- 验证配置文件路径
- 检查权限设置

---

## 8. 相关文档

- [测试管理规范](TEST_MANAGEMENT.md) - 测试管理相关文档
- [Mock规范](MOCK_SPECIFICATION.md) - Mock使用规范
- [测试用例编写指南](../docs/TEST_CASE_GUIDELINES.md) - 测试用例编写指南
- [项目PMO评价报告](../docs/17-项目PMO评价报告.md) - 项目评价报告

---

## 9. 最新更新记录

| 日期       | 版本   | 变更说明           |
| ---------- | ------ | ------------------ |
| 2025-01-26 | v1.0.0 | 初始化测试文档索引 |

---

## 修订历史

| 版本   | 日期       | 作者         | 变更说明         |
| ------ | ---------- | ------------ | ---------------- |
| v1.0.0 | 2025-01-26 | 项目开发团队 | 创建测试文档索引 |

---

最后更新: 2025-01-26
